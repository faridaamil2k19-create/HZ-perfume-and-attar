<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Product — HZ Perfume and Attar</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
  <style>
    :root{
      --glass-bg: rgba(255,255,255,0.14);
      --glass-border: rgba(255,255,255,0.25);
      --accent: rgba(130,95,255,0.95);
      --accent-2: rgba(88,210,255,0.9);
      --muted: rgba(255,255,255,0.8);
      --page-bg: linear-gradient(135deg, rgba(12,13,22,1) 0%, rgba(23,24,34,1) 100%);
      --glass-shadow: 0 8px 30px rgba(3,6,23,0.6);
      --card-radius: 12px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,system-ui,Arial;background:var(--page-bg);color:#fff;padding:28px}
    .container{max-width:1100px;margin:0 auto}
    header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
    .brand{font-family:'Playfair Display';font-size:20px;color:var(--accent)}
    .glass{background:var(--glass-bg);border:1px solid var(--glass-border);padding:14px;border-radius:12px;backdrop-filter:blur(8px)}
    main{display:grid;grid-template-columns:1fr 380px;gap:20px}
    .gallery img{width:100%;border-radius:10px;height:420px;object-fit:cover}
    .meta h1{font-family:'Playfair Display';font-size:26px}
    .price{color:var(--accent);font-weight:800;margin-top:8px}
    .desc{color:var(--muted);margin-top:10px}
    .reviews .review{margin-top:10px;padding:10px;border-radius:8px;background:rgba(255,255,255,0.02)}
    .side .qty{width:80px;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff}
    .btn{display:block;width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff;font-weight:800;cursor:pointer;margin-top:10px}
    .btn.buy{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#021124;border:none}
    @media(max-width:980px){main{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <header><div class="brand">HZ Perfume and Attar</div><nav><a href="index.html" style="color:rgba(255,255,255,0.85);text-decoration:none">Home</a></nav></header>
    <main id="mainArea"></main>
  </div>

<script>
  function qs(k){ return new URLSearchParams(location.search).get(k) }
  const pid = qs('id') || null;
  const mode = qs('mode') || '';
  const stored = localStorage.getItem('hz_products');
  const products = stored ? JSON.parse(stored) : [];
  const product = products.find(p=>p.id===pid) || products[0] || {id:'p1', name:'Product', price:0, img:'https://picsum.photos/seed/default/800/600', desc:''};

  document.getElementById('mainArea').innerHTML = `
    <section>
      <div class="glass gallery"><img src="${product.img}" alt="${product.name}"></div>
      <div class="glass meta" style="margin-top:12px">
        <h1>${product.name}</h1>
        <div class="price">PKR ${product.price.toLocaleString()}</div>
        <div class="desc">${product.desc}</div>
        <div class="reviews">
          <h3 style="margin-top:12px;color:var(--muted)">Customer reviews</h3>
          <div class="review"><strong>Aisha</strong> — ★★★★★ <div style="color:var(--muted)">Long lasting and elegant.</div></div>
          <div class="review"><strong>Bilal</strong> — ★★★★☆ <div style="color:var(--muted)">Nice packaging and scent.</div></div>
        </div>
      </div>
    </section>

    <aside class="side">
      <div class="glass" style="padding:16px">
        <div style="font-weight:800;font-size:16px">${product.name}</div>
        <div style="font-weight:800;color:var(--accent);font-size:18px;margin-top:8px">PKR ${product.price.toLocaleString()}</div>
        <div style="margin-top:10px;color:var(--muted)">Delivery across Pakistan</div>

        <div style="margin-top:12px;display:flex;gap:8px;align-items:center">
          <div style="color:var(--muted)">Qty</div>
          <input id="qty" class="qty" type="number" value="1" min="1">
        </div>

        <button class="btn" id="addCart">Add to Cart</button>
        <button class="btn buy" id="buyNow">Buy Now</button>

        <div style="margin-top:10px;color:var(--muted)">Secure checkout — HZ Perfume and Attar</div>
      </div>
    </aside>
  `;

  // cart functions (simple localStorage)
  const CART_KEY = 'hz_cart_v1';
  function loadCart(){ try{ return JSON.parse(localStorage.getItem(CART_KEY) || '[]') }catch(e){return []} }
  function saveCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)) }
  function addToCart(item){ const c=loadCart(); const ex=c.find(i=>i.id===item.id); if(ex) ex.qty+=item.qty; else c.push(item); saveCart(c) }

  document.getElementById('addCart').addEventListener('click', ()=>{
    const q = Math.max(1, parseInt(document.getElementById('qty').value||'1'));
    addToCart({id:product.id, name:product.name, price:product.price, qty:q, img:product.img});
    alert(product.name + ' added to cart.');
  });

  document.getElementById('buyNow').addEventListener('click', ()=>{
    const q = Math.max(1, parseInt(document.getElementById('qty').value||'1'));
    location.href = `buy.html?id=${encodeURIComponent(product.id)}&qty=${q}&mode=buy`;
  });

  // if opened with mode=buy, we could scroll or show highlight - but buy.html handles main checkout
</script>
</body>
</html>
